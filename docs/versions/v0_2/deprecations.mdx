---
description: 이 문서는 `langchain` 및 `langchain-core` 패키지의 비활성화 및 변경 사항 목록을 제공합니다. 새로운
  기능은 포함되어 있지 않습니다.
keywords:
- retrievalqa
- llmchain
- conversationalretrievalchain
sidebar_label: Changes
sidebar_position: 3
---

# 사용 중단 및 파괴적인 변경 사항

이 코드는 `langchain` 및 `langchain-core` 패키지에서 사용 중단 및 제거된 항목의 목록을 포함합니다.

새로운 기능 및 개선 사항은 여기에 나열되지 않습니다. 이 릴리스의 새로운 사항에 대한 요약은 [개요](/docs/versions/overview/)를 참조하십시오.

## 파괴적인 변경 사항

릴리스 0.2.0부터 `langchain`은 통합에 구애받지 않아야 합니다. 이는 `langchain`의 코드가 기본적으로 특정 채팅 모델, LLM, 임베딩 모델, 벡터 저장소 등을 인스턴스화하지 않아야 함을 의미합니다. 대신 사용자가 이를 명시적으로 지정해야 합니다.

다음 함수 및 클래스는 명시적인 LLM을 인수로 전달해야 합니다:

- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreToolkit`
- `langchain.agents.agent_toolkits.vectorstore.toolkit.VectorStoreRouterToolkit`
- `langchain.chains.openai_functions.get_openapi_chain`
- `langchain.chains.router.MultiRetrievalQAChain.from_retrievers`
- `langchain.indexes.VectorStoreIndexWrapper.query`
- `langchain.indexes.VectorStoreIndexWrapper.query_with_sources`
- `langchain.indexes.VectorStoreIndexWrapper.aquery_with_sources`
- `langchain.chains.flare.FlareChain`

다음 클래스는 이제 명시적인 임베딩 모델을 인수로 전달해야 합니다:

- `langchain.indexes.VectostoreIndexCreator`

다음 코드는 제거되었습니다:

- `langchain.natbot.NatBotChain.from_default`가 `from_llm` 클래스 메서드로 대체되었습니다.

다음 코드의 동작이 변경되었습니다:

### @tool 데코레이터

`@tool` 데코레이터는 이제 함수의 문서 문자열을 도구 설명으로 할당합니다. 이전에는 `@tool` 데코레이터가 함수 서명을 앞에 붙이는 데 사용되었습니다.

0.2.0 이전:

```python
@tool
def my_tool(x: str) -> str:
    """Some description."""
    return "something"

print(my_tool.description)
```


결과: `my_tool: (x: str) -> str - Some description.`

0.2.0부터:

결과: `Some description.`

## 다른 패키지로 이동된 코드

`langchain`에서 다른 패키지(예: `langchain-community`)로 이동된 코드

`langchain`에서 이를 가져오려고 하면 가져오기는 계속 작동하지만 사용 중단 경고가 발생합니다. 경고는 대체 가져오기 문을 제공합니다.

```shell
python -c "from langchain.document_loaders.markdown import UnstructuredMarkdownLoader"
```


```shell
LangChainDeprecationWarning: Importing UnstructuredMarkdownLoader from langchain.document_loaders is deprecated. Please replace deprecated imports:

>> from langchain.document_loaders import UnstructuredMarkdownLoader

with new imports of:

>> from langchain_community.document_loaders import UnstructuredMarkdownLoader
```


우리는 관련 코드가 있는 패키지가 설치되어 있는 한 `langchain`에서의 가져오기를 릴리스 0.4까지 계속 지원할 것입니다. (예: `langchain_community`가 설치되어 있는 한.)

그러나 사용자가 이러한 가져오기에 의존하지 말고 대신 새로운 가져오기로 마이그레이션할 것을 권장합니다. 이 과정을 돕기 위해 LangChain CLI를 통해 마이그레이션 스크립트를 배포하고 있습니다. 마이그레이션 가이드에서 추가 지침을 참조하십시오.

## 제거 대상으로 지정된 코드

더 나은 대안이 있는 코드로, 궁극적으로 제거될 예정이므로 단일 방법으로만 작업할 수 있습니다. (예: ChatModels의 `predict_messages` 메서드는 `invoke`로 사용 중단되었습니다.)

### astream events V1

`astream_events`를 사용 중이라면 [astream events v2로 마이그레이션하는 방법](/docs/versions/v0_2/migrating_astream_events)을 검토하십시오.

### langchain_core

#### try_load_from_hub

모듈: `utils.loading`  
사용 중단: 0.1.30  
제거: 0.3.0  

대안: hwchase17/langchain-hub 리포를 프롬프트에 사용하는 것은 사용 중단되었습니다. 대신 https://smith.langchain.com/hub를 사용하십시오.

#### BaseLanguageModel.predict

모듈: `language_models.base`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseLanguageModel.predict_messages

모듈: `language_models.base`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseLanguageModel.apredict

모듈: `language_models.base`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### BaseLanguageModel.apredict_messages

모듈: `language_models.base`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### RunTypeEnum

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: 대신 문자열을 사용하십시오.

#### TracerSessionV1Base

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### TracerSessionV1Create

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### TracerSessionV1

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### TracerSessionBase

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### TracerSession

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### BaseRun

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: Run

#### LLMRun

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: Run

#### ChainRun

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: Run

#### ToolRun

모듈: `tracers.schemas`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: Run

#### BaseChatModel.**call**

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseChatModel.call_as_llm

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseChatModel.predict

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseChatModel.predict_messages

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseChatModel.apredict

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### BaseChatModel.apredict_messages

모듈: `language_models.chat_models`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### BaseLLM.**call**

모듈: `language_models.llms`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseLLM.predict

모듈: `language_models.llms`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseLLM.predict_messages

모듈: `language_models.llms`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: invoke

#### BaseLLM.apredict

모듈: `language_models.llms`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### BaseLLM.apredict_messages

모듈: `language_models.llms`  
사용 중단: 0.1.7  
제거: 0.3.0  

대안: ainvoke

#### BaseRetriever.get_relevant_documents

모듈: `retrievers`  
사용 중단: 0.1.46  
제거: 0.3.0  

대안: invoke

#### BaseRetriever.aget_relevant_documents

모듈: `retrievers`  
사용 중단: 0.1.46  
제거: 0.3.0  

대안: ainvoke

#### ChatPromptTemplate.from_role_strings

모듈: `prompts.chat`  
사용 중단: 0.0.1  
제거:

대안: from_messages 클래스 메서드

#### ChatPromptTemplate.from_strings

모듈: `prompts.chat`  
사용 중단: 0.0.1  
제거:

대안: from_messages 클래스 메서드

#### BaseTool.**call**

모듈: `tools`  
사용 중단: 0.1.47  
제거: 0.3.0  

대안: invoke

#### convert_pydantic_to_openai_function

모듈: `utils.function_calling`  
사용 중단: 0.1.16  
제거: 0.3.0  

대안: langchain_core.utils.function_calling.convert_to_openai_function()

#### convert_pydantic_to_openai_tool

모듈: `utils.function_calling`  
사용 중단: 0.1.16  
제거: 0.3.0  

대안: langchain_core.utils.function_calling.convert_to_openai_tool()

#### convert_python_function_to_openai_function

모듈: `utils.function_calling`  
사용 중단: 0.1.16  
제거: 0.3.0  

대안: langchain_core.utils.function_calling.convert_to_openai_function()

#### format_tool_to_openai_function

모듈: `utils.function_calling`  
사용 중단: 0.1.16  
제거: 0.3.0  

대안: langchain_core.utils.function_calling.convert_to_openai_function()

#### format_tool_to_openai_tool

모듈: `utils.function_calling`  
사용 중단: 0.1.16  
제거: 0.3.0  

대안: langchain_core.utils.function_calling.convert_to_openai_tool()

### langchain

#### AgentType

모듈: `agents.agent_types`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: [LangGraph](/docs/how_to/migrate_agent/) 또는 create_react_agent, create_json_agent, create_structured_chat_agent와 같은 새로운 에이전트 생성자 메서드를 사용하십시오.

#### Chain.**call**

모듈: `chains.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: invoke

#### Chain.acall

모듈: `chains.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: ainvoke

#### Chain.run

모듈: `chains.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: invoke

#### Chain.arun

모듈: `chains.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: ainvoke

#### Chain.apply

모듈: `chains.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: batch

#### LLMChain

모듈: `chains.llm`  
사용 중단: 0.1.17  
제거: 0.3.0  

대안: [RunnableSequence](/docs/how_to/sequence/), 예: `prompt | llm`

이 [마이그레이션 가이드](/docs/versions/migrating_chains/llm_chain)는 나란히 비교한 내용을 포함하고 있습니다.

#### LLMSingleActionAgent

모듈: `agents.agent`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: [LangGraph](/docs/how_to/migrate_agent/) 또는 create_react_agent, create_json_agent, create_structured_chat_agent와 같은 새로운 에이전트 생성자 메서드를 사용하십시오.

#### Agent

모듈: `agents.agent`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: [LangGraph](/docs/how_to/migrate_agent/) 또는 create_react_agent, create_json_agent, create_structured_chat_agent와 같은 새로운 에이전트 생성자 메서드를 사용하십시오.

#### OpenAIFunctionsAgent

모듈: `agents.openai_functions_agent.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_openai_functions_agent

#### ZeroShotAgent

모듈: `agents.mrkl.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_react_agent

#### MRKLChain

모듈: `agents.mrkl.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### ConversationalAgent

모듈: `agents.conversational.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_react_agent

#### ConversationalChatAgent

모듈: `agents.conversational_chat.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_json_chat_agent

#### ChatAgent

모듈: `agents.chat.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_react_agent

#### OpenAIMultiFunctionsAgent

모듈: `agents.openai_functions_multi_agent.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_openai_tools_agent

#### ReActDocstoreAgent

모듈: `agents.react.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### DocstoreExplorer

모듈: `agents.react.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:
#### ReActTextWorldAgent

모듈: `agents.react.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### ReActChain

모듈: `agents.react.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### SelfAskWithSearchAgent

모듈: `agents.self_ask_with_search.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_self_ask_with_search

#### SelfAskWithSearchChain

모듈: `agents.self_ask_with_search.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### StructuredChatAgent

모듈: `agents.structured_chat.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_structured_chat_agent

#### RetrievalQA

모듈: `chains.retrieval_qa.base`  
사용 중단: 0.1.17  
제거: 0.3.0  

대안: [create_retrieval_chain](https://api.python.langchain.com/en/latest/chains/langchain.chains.retrieval.create_retrieval_chain.html#langchain-chains-retrieval-create-retrieval-chain)  
이 [마이그레이션 가이드](/docs/versions/migrating_chains/retrieval_qa)에는 나란히 비교한 내용이 있습니다.

#### load_agent_from_config

모듈: `agents.loading`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### load_agent

모듈: `agents.loading`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안:

#### initialize_agent

모듈: `agents.initialize`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: [LangGraph](/docs/how_to/migrate_agent/) 또는 create_react_agent, create_json_agent, create_structured_chat_agent 등과 같은 새로운 에이전트 생성자 메서드를 사용하세요.

#### XMLAgent

모듈: `agents.xml.base`  
사용 중단: 0.1.0  
제거: 0.3.0  

대안: create_xml_agent

#### CohereRerank

모듈: `retrievers.document_compressors.cohere_rerank`  
사용 중단: 0.0.30  
제거: 0.3.0  

대안: langchain_cohere.CohereRerank

#### ConversationalRetrievalChain

모듈: `chains.conversational_retrieval.base`  
사용 중단: 0.1.17  
제거: 0.3.0  

대안: [create_history_aware_retriever](https://api.python.langchain.com/en/latest/chains/langchain.chains.history_aware_retriever.create_history_aware_retriever.html)와 [create_retrieval_chain](https://api.python.langchain.com/en/latest/chains/langchain.chains.retrieval.create_retrieval_chain.html#langchain-chains-retrieval-create-retrieval-chain) (문서 문자열의 예 참조)  
이 [마이그레이션 가이드](/docs/versions/migrating_chains/conversation_retrieval_chain)에는 나란히 비교한 내용이 있습니다.

#### create_extraction_chain_pydantic

모듈: `chains.openai_tools.extraction`  
사용 중단: 0.1.14  
제거: 0.3.0  

대안: [with_structured_output](/docs/how_to/structured_output/#the-with_structured_output-method) 메서드를 도구 호출을 지원하는 채팅 모델에서 사용하세요.

#### create_openai_fn_runnable

모듈: `chains.structured_output.base`  
사용 중단: 0.1.14  
제거: 0.3.0  

대안: [with_structured_output](/docs/how_to/structured_output/#the-with_structured_output-method) 메서드를 도구 호출을 지원하는 채팅 모델에서 사용하세요.

#### create_structured_output_runnable

모듈: `chains.structured_output.base`  
사용 중단: 0.1.17  
제거: 0.3.0  

대안: [with_structured_output](/docs/how_to/structured_output/#the-with_structured_output-method) 메서드를 도구 호출을 지원하는 채팅 모델에서 사용하세요.

#### create_openai_fn_chain

모듈: `chains.openai_functions.base`  
사용 중단: 0.1.1  
제거: 0.3.0  

대안: create_openai_fn_runnable

#### create_structured_output_chain

모듈: `chains.openai_functions.base`  
사용 중단: 0.1.1  
제거: 0.3.0  

대안: ChatOpenAI.with_structured_output

#### create_extraction_chain

모듈: `chains.openai_functions.extraction`  
사용 중단: 0.1.14  
제거: 0.3.0  

대안: [with_structured_output](/docs/how_to/structured_output/#the-with_structured_output-method) 메서드를 도구 호출을 지원하는 채팅 모델에서 사용하세요.

#### create_extraction_chain_pydantic

모듈: `chains.openai_functions.extraction`  
사용 중단: 0.1.14  
제거: 0.3.0  

대안: [with_structured_output](/docs/how_to/structured_output/#the-with_structured_output-method) 메서드를 도구 호출을 지원하는 채팅 모델에서 사용하세요.